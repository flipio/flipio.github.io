webpackJsonp([1],{0:function(t,e){},"44Jl":function(t,e){},"90Bl":function(t,e){},Ko0s:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};a.d(n,"initGame",function(){return I}),a.d(n,"selectDot",function(){return j}),a.d(n,"deselectAll",function(){return F}),a.d(n,"removeDot",function(){return N}),a.d(n,"reviveDot",function(){return H});var r={};a.d(r,"grid",function(){return M}),a.d(r,"getAlive",function(){return $}),a.d(r,"getSelectedDot",function(){return U});var i,o=a("7+uW"),s=a("3EgV"),c=a.n(s),d=a("8+8L"),l=a("Dd8w"),u=a.n(l),f=a("NYxO"),v=a("M4fF"),m=a.n(v),p=a("//Fk"),h=a.n(p),_=function(){return h.a.resolve({body:{status:"OK",data:[{id:20,nickname:"Toni",record:1,updated_at:"2018-04-06T15:17:06.710Z",created_at:"2018-01-21T12:50:51.188Z"},{id:19,nickname:"saki",record:1,updated_at:"2018-01-26T08:29:17.694Z",created_at:"2018-01-19T19:17:27.396Z"},{id:2,nickname:"papa_doubi",record:2,updated_at:"2018-01-13T22:03:29.486Z",created_at:"2018-01-13T21:57:54.599Z"},{id:3,nickname:"Loki",record:2,updated_at:"2018-01-15T12:14:09.882Z",created_at:"2018-01-13T23:09:05.286Z"},{id:15,nickname:"antea nije geto viÅ¡e",record:2,updated_at:"2018-01-16T20:30:41.913Z",created_at:"2018-01-16T20:30:41.913Z"},{id:13,nickname:"Antea",record:2,updated_at:"2018-01-16T20:27:50.097Z",created_at:"2018-01-16T20:24:33.550Z"},{id:1,nickname:"flipioo",record:2,updated_at:"2018-01-15T01:08:12.564Z",created_at:"2018-01-13T20:57:17.894Z"},{id:18,nickname:"Rayne",record:3,updated_at:"2018-01-17T10:32:24.295Z",created_at:"2018-01-17T02:17:37.127Z"},{id:16,nickname:"Sabo",record:3,updated_at:"2018-01-16T20:36:00.084Z",created_at:"2018-01-16T20:36:00.084Z"},{id:26,nickname:"anitaa wo hoo",record:3,updated_at:"2018-01-28T11:17:29.693Z",created_at:"2018-01-28T11:17:29.693Z"}]}})},g=function(t){return o.default.http.post("https://dev.filipjelic.com/api/33traps/leaderboard",t)},x={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loader",class:{darker:void 0!==this.dark}},[e("v-progress-circular",{attrs:{indeterminate:"",color:"amber"}})],1)},staticRenderFns:[]},k=a("VU/8")({name:"loader",props:["dark"]},x,!1,function(t){a("sb75")},null,null).exports,b={name:"leaderboard",components:{Loader:k},methods:{getLeaderboard:function(){var t=this;this.loader=!0,_().then(function(e){var a=m.a.map(m.a.orderBy(e.body.data,["record"],["asc"]),function(t,e){return t.rank=e+1,t});t.items=a,setTimeout(function(){t.loader=!1},500)})}},mounted:function(){this.getLeaderboard()},data:function(){return{loader:!1,items:[],headers:[{text:"#",align:"left",sortable:!1,value:"rank"},{text:"Nickname",align:"center",sortable:!1,value:"nickname"},{text:"Score",align:"center",sortable:!1,value:"record"}]}}},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",{staticClass:"leaderboard"},[t.loader?a("Loader",{attrs:{dark:""}}):t._e(),t._v(" "),a("ul",[a("v-data-table",{staticClass:"elevation-4",attrs:{headers:t.headers,items:t.items,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.rank))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.nickname))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.record))])]}}])})],1)],1)},staticRenderFns:[]},T={name:"game",components:{Leaderboard:a("VU/8")(b,y,!1,function(t){a("Ko0s")},"data-v-a69cdc0e",null).exports,Loader:k},methods:u()({refreshData:function(){this.$refs.leaderboardInstance.getLeaderboard()},submitScore:function(){var t=this,e=this.getAlive(),a=this.nickname;if(a.length>20)return this.error="Nickname to long. Please create nickname with less then 20 characters",void setTimeout(function(){t.error=null},5e3);a.length>0&&(this.loader=!0,g({nickname:this.nickname,record:e}).then(function(){setTimeout(function(){t.loader=!1},500)}))},restartGame:function(){this.initGame()},dotClick:function(t){if(t){var e=this.getSelectedDot();if(e){var a=null;if(!0!==t.exists&&(a=function(t,e){var a=null,n=null,r=null;return t.x===e.x?(t.y>e.y?(n=e,r=t):(n=t,r=e),r.y-n.y==2&&((a={}).y=n.y+1,a.x=n.x)):t.y===e.y&&(t.x>e.x?(n=e,r=t):(n=t,r=e),r.x-n.x==2&&((a={}).y=n.y,a.x=n.x+1)),a}(e,t)),a){var n=function(t,e,a){return m.a.find(t[e],function(t){return t&&t.y===a})}(this.gameGrid,a.x,a.y);!0===n.exists&&(this.removeDot(e),this.removeDot(n),this.reviveDot(t),this.deselectAll())}}t.exists&&(this.deselectAll(t),this.selectDot(t))}}},Object(f.b)(["deselectAll","selectDot","removeDot","reviveDot","initGame"]),Object(f.c)(["grid","getSelectedDot","getAlive"])),computed:{gameGrid:function(){return this.grid()}},data:function(){return{loader:!1,nickname:"",error:null}}},E={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",{staticClass:"game game-width"},[t.loader?a("Loader"):t._e(),t._v(" "),a("div",{staticClass:"text-xs-center game-width"},[a("v-btn",{attrs:{round:"",color:"primary",dark:"",ripple:""},on:{click:t.restartGame}},[t._v("Restart Game")]),t._v(" "),a("v-dialog",{attrs:{scrollable:"","max-width":"400px"}},[a("v-btn",{attrs:{slot:"activator",color:"primary",dark:"",ripple:"",round:""},on:{click:t.refreshData},slot:"activator"},[t._v("Leaderboard")]),t._v(" "),a("Leaderboard",{ref:"leaderboardInstance"})],1),t._v(" "),a("v-dialog",{attrs:{scrollable:"","max-width":"400px"}},[a("v-btn",{attrs:{slot:"activator",color:"primary",dark:"",ripple:"",round:""},slot:"activator"},[t._v("\n        How to?\n      ")]),t._v(" "),a("v-flex",{staticClass:"how-to"},[a("p",[t._v('\n          Click on a black dot ( it becomes automatically selected ) and move it to an empty (white) slot. By doing so you are "eating" the dot that is being jumped over. Continue in that fashion until you have reached the goal.\n          The goal is to have only one black dot left. You can only "jump" over 1 dot at a time.\n        ')]),t._v(" "),a("img",{staticClass:"how-to-gif",attrs:{src:"static/how-to.gif",alt:"How to?"}})])],1)],1),t._v(" "),a("div",{staticClass:"grid game-width"},t._l(t.gameGrid,function(e){return a("div",{staticClass:"grid-row"},t._l(e,function(e){return a("div",{staticClass:"grid-el",on:{click:function(a){t.dotClick(e)}}},[e?a("span",{staticClass:"grid-el-fill",class:{filled:e.exists,invalid:!e.exists,selected:e.selected}}):t._e(),t._v(" "),e?t._e():a("span",{staticClass:"grid-el-fill not-available"})])}))})),t._v(" "),a("v-divider"),t._v(" "),a("v-container",{staticClass:"result-submit",attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs6:""}},[a("v-text-field",{attrs:{name:"nickname-input",label:"Enter nickname"},model:{value:t.nickname,callback:function(e){t.nickname=e},expression:"nickname"}})],1),t._v(" "),a("v-flex",{staticClass:"self-center",attrs:{xs6:"","text-xs-center":""}},[a("v-btn",{attrs:{color:"primary",dark:"",ripple:"",round:""},on:{click:t.submitScore}},[t._v("Submit score")])],1)],1),t._v(" "),t.error?a("v-flex",{attrs:{xs12:""}},[a("span",{staticClass:"red darken-1"},[t._v(t._s(t.error))])]):t._e()],1)],1)},staticRenderFns:[]},D={methods:{},components:{Game:a("VU/8")(T,E,!1,function(t){a("44Jl")},"data-v-02f72616",null).exports},data:function(){return{}}},C={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home"},[e("h1",[this._v("33 Traps")]),this._v(" "),e("game")],1)},staticRenderFns:[]},w={name:"app",components:{Home:a("VU/8")(D,C,!1,function(t){a("i8xs")},"data-v-be53bdc2",null).exports}},Z={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("v-app",[e("v-toolbar",{attrs:{app:""}},[e("h3",[this._v("33 Traps")])]),this._v(" "),e("v-content",[e("v-container",{attrs:{fluid:""}},[e("Home")],1)],1),this._v(" "),e("v-footer",{attrs:{app:""}})],1)],1)},staticRenderFns:[]},L=a("VU/8")(w,Z,!1,function(t){a("90Bl")},null,null).exports,A=a("bOdI"),O=a.n(A),S="SELECT_DOT",G=[[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[1,1,1,1,1,1,1],[1,1,1,2,1,1,1],[1,1,1,1,1,1,1],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0]],V=function(){var t={},e={exists:!1,selected:!1,x:"",y:""};return m.a.forEach(G,function(a,n){var r=[];m.a.forEach(a,function(t,a){var i=m.a.cloneDeep(e);1===t&&(i.exists=!0),i.x=n,i.y=a,0===t&&(i=null),r.push(i)}),t[n]=r}),t},R={state:{title:"33 Traps",grid:V()},mutations:(i={},O()(i,"INIT_GAME",function(t){t.grid=V()}),O()(i,S,function(t,e){var a=e.x,n=e.y,r=m.a.cloneDeep(t.grid[a]);m.a.find(r,function(t){return t&&t.x===a&&t.y===n}).selected=!0,t.grid[a]=r}),O()(i,"DESELECT_ALL",function(t){m.a.forEach(t.grid,function(e,a){var n=m.a.cloneDeep(e),r=!1;m.a.forEach(n,function(t){t&&!0===t.selected&&(t.selected=!1,r=!0)}),r&&(t.grid[a]=n)})}),O()(i,S,function(t,e){var a=e.x,n=e.y,r=m.a.cloneDeep(t.grid[a]);m.a.find(r,function(t){return t&&t.x===a&&t.y===n}).selected=!0,t.grid[a]=r}),O()(i,"REMOVE_DOT",function(t,e){var a=e.x,n=e.y,r=m.a.cloneDeep(t.grid[a]),i=m.a.find(r,function(t){return t&&t.x===a&&t.y===n});i.selected=!1,i.exists=!1,t.grid[a]=r}),O()(i,"REVIVE_DOT",function(t,e){var a=e.x,n=e.y,r=m.a.cloneDeep(t.grid[a]),i=m.a.find(r,function(t){return t&&t.x===a&&t.y===n});i.selected=!1,i.exists=!0,t.grid[a]=r}),i)},I=function(t){(0,t.commit)("INIT_GAME")},j=function(t,e){(0,t.commit)(S,e)},F=function(t){(0,t.commit)("DESELECT_ALL")},N=function(t,e){(0,t.commit)("REMOVE_DOT",e)},H=function(t,e){(0,t.commit)("REVIVE_DOT",e)},M=function(t){return t.game.grid},$=function(t){var e=t.game,a=0;return m.a.forEach(e.grid,function(t){m.a.forEach(t,function(t){t&&t.exists&&a++})}),a},U=function(t){var e=t.game.grid,a=null;return m.a.forEach(e,function(t){m.a.forEach(t,function(t){if(t&&t.selected)return a=t,!0})}),a},B=a("sax8"),J=a.n(B);o.default.use(f.a);o.default.config.debug=!0;var K=new f.a.Store({modules:{game:R},actions:n,getters:r,strict:!0,plugins:[J()()]});o.default.use(d.a),o.default.http.interceptors.push(function(t,e){t.credentials=!1,e()}),o.default.use(c.a),o.default.config.productionTip=!1,new o.default({el:"#app",store:K,template:"<App/>",components:{App:L}})},i8xs:function(t,e){},sb75:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.81f894d0f703a31a7877.js.map