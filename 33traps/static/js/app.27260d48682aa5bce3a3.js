webpackJsonp([1],{0:function(t,e){},"44Jl":function(t,e){},"90Bl":function(t,e){},Ko0s:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={};n.d(r,"initGame",function(){return I}),n.d(r,"selectDot",function(){return N}),n.d(r,"deselectAll",function(){return j}),n.d(r,"removeDot",function(){return F}),n.d(r,"reviveDot",function(){return H});var a={};n.d(a,"grid",function(){return M}),n.d(a,"getAlive",function(){return $}),n.d(a,"getSelectedDot",function(){return U});var i,o=n("7+uW"),s=n("3EgV"),c=n.n(s),l=n("8+8L"),d=n("Dd8w"),u=n.n(d),f=n("NYxO"),v=n("M4fF"),m=n.n(v),h="https://dev.filipjelic.com",p=function(){return o.a.http.get(h+"/api/33traps/leaderboard")},g=function(t){return o.a.http.post(h+"/api/33traps/leaderboard",t)},x={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loader",class:{darker:void 0!==this.dark}},[e("v-progress-circular",{attrs:{indeterminate:"",color:"amber"}})],1)},staticRenderFns:[]},_=n("VU/8")({name:"loader",props:["dark"]},x,!1,function(t){n("sb75")},null,null).exports,b={name:"leaderboard",components:{Loader:_},methods:{getLeaderboard:function(){var t=this;this.loader=!0,p().then(function(e){var n=m.a.map(m.a.orderBy(e.body.data,["record"],["asc"]),function(t,e){return t.rank=e+1,t});t.items=n,setTimeout(function(){t.loader=!1},500)})}},mounted:function(){this.getLeaderboard()},data:function(){return{loader:!1,items:[],headers:[{text:"#",align:"left",sortable:!1,value:"rank"},{text:"Nickname",align:"center",sortable:!1,value:"nickname"},{text:"Score",align:"center",sortable:!1,value:"record"}]}}},k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-flex",{staticClass:"leaderboard"},[t.loader?n("Loader",{attrs:{dark:""}}):t._e(),t._v(" "),n("ul",[n("v-data-table",{staticClass:"elevation-4",attrs:{headers:t.headers,items:t.items,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[n("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.rank))]),t._v(" "),n("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.nickname))]),t._v(" "),n("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.record))])]}}])})],1)],1)},staticRenderFns:[]},y={name:"game",components:{Leaderboard:n("VU/8")(b,k,!1,function(t){n("Ko0s")},"data-v-a69cdc0e",null).exports,Loader:_},methods:u()({refreshData:function(){this.$refs.leaderboardInstance.getLeaderboard()},submitScore:function(){var t=this,e=this.getAlive(),n=this.nickname;if(n.length>20)return this.error="Nickname to long. Please create nickname with less then 20 characters",void setTimeout(function(){t.error=null},5e3);n.length>0&&(this.loader=!0,g({nickname:this.nickname,record:e}).then(function(){setTimeout(function(){t.loader=!1},500)}))},restartGame:function(){this.initGame()},dotClick:function(t){if(t){var e=this.getSelectedDot();if(e){var n=null;if(!0!==t.exists&&(n=function(t,e){var n=null,r=null,a=null;return t.x===e.x?(t.y>e.y?(r=e,a=t):(r=t,a=e),a.y-r.y==2&&((n={}).y=r.y+1,n.x=r.x)):t.y===e.y&&(t.x>e.x?(r=e,a=t):(r=t,a=e),a.x-r.x==2&&((n={}).y=r.y,n.x=r.x+1)),n}(e,t)),n){var r=function(t,e,n){return m.a.find(t[e],function(t){return t&&t.y===n})}(this.gameGrid,n.x,n.y);!0===r.exists&&(this.removeDot(e),this.removeDot(r),this.reviveDot(t),this.deselectAll())}}t.exists&&(this.deselectAll(t),this.selectDot(t))}}},Object(f.b)(["deselectAll","selectDot","removeDot","reviveDot","initGame"]),Object(f.c)(["grid","getSelectedDot","getAlive"])),computed:{gameGrid:function(){return this.grid()}},data:function(){return{loader:!1,nickname:"",error:null}}},E={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-flex",{staticClass:"game game-width"},[t.loader?n("Loader"):t._e(),t._v(" "),n("div",{staticClass:"text-xs-center game-width"},[n("v-btn",{attrs:{round:"",color:"primary",dark:"",ripple:""},on:{click:t.restartGame}},[t._v("Restart Game")]),t._v(" "),n("v-dialog",{attrs:{scrollable:"","max-width":"400px"}},[n("v-btn",{attrs:{slot:"activator",color:"primary",dark:"",ripple:"",round:""},on:{click:t.refreshData},slot:"activator"},[t._v("Leaderboard")]),t._v(" "),n("Leaderboard",{ref:"leaderboardInstance"})],1),t._v(" "),n("v-dialog",{attrs:{scrollable:"","max-width":"400px"}},[n("v-btn",{attrs:{slot:"activator",color:"primary",dark:"",ripple:"",round:""},slot:"activator"},[t._v("\n        How to?\n      ")]),t._v(" "),n("v-flex",{staticClass:"how-to"},[n("p",[t._v('\n          Click on a black dot ( it becomes automatically selected ) and move it to an empty (white) slot. By doing so you are "eating" the dot that is being jumped over. Continue in that fashion until you have reached the goal.\n          The goal is to have only one black dot left. You can only "jump" over 1 dot at a time.\n        ')]),t._v(" "),n("img",{staticClass:"how-to-gif",attrs:{src:"static/how-to.gif",alt:"How to?"}})])],1)],1),t._v(" "),n("div",{staticClass:"grid game-width"},t._l(t.gameGrid,function(e){return n("div",{staticClass:"grid-row"},t._l(e,function(e){return n("div",{staticClass:"grid-el",on:{click:function(n){t.dotClick(e)}}},[e?n("span",{staticClass:"grid-el-fill",class:{filled:e.exists,invalid:!e.exists,selected:e.selected}}):t._e(),t._v(" "),e?t._e():n("span",{staticClass:"grid-el-fill not-available"})])}))})),t._v(" "),n("v-divider"),t._v(" "),n("v-container",{staticClass:"result-submit",attrs:{"grid-list-md":"","text-xs-center":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs6:""}},[n("v-text-field",{attrs:{name:"nickname-input",label:"Enter nickname"},model:{value:t.nickname,callback:function(e){t.nickname=e},expression:"nickname"}})],1),t._v(" "),n("v-flex",{staticClass:"self-center",attrs:{xs6:"","text-xs-center":""}},[n("v-btn",{attrs:{color:"primary",dark:"",ripple:"",round:""},on:{click:t.submitScore}},[t._v("Submit score")])],1)],1),t._v(" "),t.error?n("v-flex",{attrs:{xs12:""}},[n("span",{staticClass:"red darken-1"},[t._v(t._s(t.error))])]):t._e()],1)],1)},staticRenderFns:[]},D={methods:{},components:{Game:n("VU/8")(y,E,!1,function(t){n("44Jl")},"data-v-02f72616",null).exports},data:function(){return{}}},C={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home"},[e("h1",[this._v("33 Traps")]),this._v(" "),e("game")],1)},staticRenderFns:[]},w={name:"app",components:{Home:n("VU/8")(D,C,!1,function(t){n("i8xs")},"data-v-be53bdc2",null).exports}},L={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("v-app",[e("v-toolbar",{attrs:{app:""}},[e("h3",[this._v("33 Traps")])]),this._v(" "),e("v-content",[e("v-container",{attrs:{fluid:""}},[e("Home")],1)],1),this._v(" "),e("v-footer",{attrs:{app:""}})],1)],1)},staticRenderFns:[]},T=n("VU/8")(w,L,!1,function(t){n("90Bl")},null,null).exports,A=n("bOdI"),G=n.n(A),O="SELECT_DOT",S=[[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[1,1,1,1,1,1,1],[1,1,1,2,1,1,1],[1,1,1,1,1,1,1],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0]],V=function(){var t={},e={exists:!1,selected:!1,x:"",y:""};return m.a.forEach(S,function(n,r){var a=[];m.a.forEach(n,function(t,n){var i=m.a.cloneDeep(e);1===t&&(i.exists=!0),i.x=r,i.y=n,0===t&&(i=null),a.push(i)}),t[r]=a}),t},R={state:{title:"33 Traps",grid:V()},mutations:(i={},G()(i,"INIT_GAME",function(t){t.grid=V()}),G()(i,O,function(t,e){var n=e.x,r=e.y,a=m.a.cloneDeep(t.grid[n]);m.a.find(a,function(t){return t&&t.x===n&&t.y===r}).selected=!0,t.grid[n]=a}),G()(i,"DESELECT_ALL",function(t){m.a.forEach(t.grid,function(e,n){var r=m.a.cloneDeep(e),a=!1;m.a.forEach(r,function(t){t&&!0===t.selected&&(t.selected=!1,a=!0)}),a&&(t.grid[n]=r)})}),G()(i,O,function(t,e){var n=e.x,r=e.y,a=m.a.cloneDeep(t.grid[n]);m.a.find(a,function(t){return t&&t.x===n&&t.y===r}).selected=!0,t.grid[n]=a}),G()(i,"REMOVE_DOT",function(t,e){var n=e.x,r=e.y,a=m.a.cloneDeep(t.grid[n]),i=m.a.find(a,function(t){return t&&t.x===n&&t.y===r});i.selected=!1,i.exists=!1,t.grid[n]=a}),G()(i,"REVIVE_DOT",function(t,e){var n=e.x,r=e.y,a=m.a.cloneDeep(t.grid[n]),i=m.a.find(a,function(t){return t&&t.x===n&&t.y===r});i.selected=!1,i.exists=!0,t.grid[n]=a}),i)},I=function(t){(0,t.commit)("INIT_GAME")},N=function(t,e){(0,t.commit)(O,e)},j=function(t){(0,t.commit)("DESELECT_ALL")},F=function(t,e){(0,t.commit)("REMOVE_DOT",e)},H=function(t,e){(0,t.commit)("REVIVE_DOT",e)},M=function(t){return t.game.grid},$=function(t){var e=t.game,n=0;return m.a.forEach(e.grid,function(t){m.a.forEach(t,function(t){t&&t.exists&&n++})}),n},U=function(t){var e=t.game.grid,n=null;return m.a.forEach(e,function(t){m.a.forEach(t,function(t){if(t&&t.selected)return n=t,!0})}),n},B=n("sax8"),J=n.n(B);o.a.use(f.a);o.a.config.debug=!0;var K=new f.a.Store({modules:{game:R},actions:r,getters:a,strict:!0,plugins:[J()()]});o.a.use(l.a),o.a.http.interceptors.push(function(t,e){t.credentials=!1,e()}),o.a.use(c.a),o.a.config.productionTip=!1,new o.a({el:"#app",store:K,template:"<App/>",components:{App:T}})},i8xs:function(t,e){},sb75:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.27260d48682aa5bce3a3.js.map